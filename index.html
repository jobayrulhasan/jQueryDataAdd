<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

      <!-- Bootstrap CSS -->
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"
         integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
         crossorigin="anonymous"
      />

      <title>jQuery dynamic data</title>
   </head>
   <body>
      <div class="container bg-warning my-5 p-3 text-center text-light">
         <h1>Dynamic table row add/remove</h1>
         <h3>Using jQuery</h3>
      </div>
      <div class="container">
         <div class="row">
            <div class="col-md-2 col-sm-6 col-6 p-2">
               <input type="text" class="form-control" placeholder="Enter your name" id="txtname" />
            </div>
            <div class="col-md-2 col-sm-6 col-6 p-2">
               <input type="text" class="form-control" placeholder="Enter city" id="txtcity" />
            </div>
            <div class="col-md-2 col-sm-6 col-6 p-2">
               <input type="text" class="form-control" placeholder="Enter mobile number" id="txtmobile" />
            </div>
            <div class="col-md-2 col-sm-6 col-6 p-2">
               <input type="button" class="btn btn-primary para" id="btnAdd" value="Add New" />
            </div>
         </div>
         <div class="row pt-3">
            <div class="col-md-12 col-sm-12 col-12 p-2">
               <table id="tbldata" class="table table-bordered table-hover table-striped">
                  <thead>
                     <tr>
                        <th scope="col">Sr No.</th>
                        <th scope="col">Name</th>
                        <th scope="col">City</th>
                        <th scope="col">Mobile No.</th>
                        <th scope="col">Action</th>
                     </tr>
                  </thead>
                  <tbody></tbody>
               </table>
            </div>
         </div>
      </div>
      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script
         src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
         integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
         integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
         crossorigin="anonymous"
      ></script>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
         integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
         crossorigin="anonymous"
      ></script>
   </body>
   <script>
      var emptyrow = "<tr><td colspan='5' class='text-center'>No records available</td></tr>";
      $(document).ready(function () {
         $("#tbldata tbody").append(emptyrow); //adding empty row on page load

         $("#btnAdd").click(function () {
            var name = $("#txtname").val();
            var city = $("#txtcity").val();
            var mobile = $("#txtmobile").val();
            if (name != "" && city != "" && mobile != "") {
               // validation
               debugger;
               if ($("#tbldata tbody").children().children().length == 1) {
                  $("#tbldata tbody").html("");
               }
               var srNo = $("#tbldata tbody").children().length + 1;
               // creating dynamic html string
               var dynamicTr =
                  "<tr><td>" +
                  srNo +
                  "</td><td>" +
                  name +
                  "</td><td>" +
                  city +
                  "</td><td>" +
                  mobile +
                  "</td><td> <button class='btn btn-danger btn-sm'> Delete</button> </td></tr>";
               $("#tbldata tbody").append(dynamicTr); //append dynamic string to table tbody
               $("txtname").val("");
               $("txtcity").val("");
               $("txtmobile").val("");
               $(".btn-sm").click(function () {
                  $(this).parent().parent().remove();
                  if ($("#tbldata tbody").children().children().length == 0) {
                     $("#tbldata tbody").append(emptyrow);
                  }
               });
            } else {
               alert("Please provide values");
            }
         });
      });
   </script>
</html>
